function sanitize(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText.trim()}function removeAllChilds(e){let t=e.lastChild;for(;t;)e.removeChild(t),t=e.lastChild}function validate_blank(e,t,n){removeAllChilds(document.getElementById("error-zone"));let l=document.getElementById("error-zone"),i=!0;if(""===e){let e=document.createElement("li");e.innerText="Debe llenar tÃ­tulo de la receta.",l.appendChild(e),i=!1}if(!t.length){let e=document.createElement("li");e.innerText="Debe colocar al menos un ingrediente.",l.appendChild(e),i=!1}if(!n.length){let e=document.createElement("li");e.innerText="Debe colocar al menos un paso.",l.appendChild(e),i=!1}return i}function addItem(e,t){let n=document.getElementById(t).value;if(""!==(n=sanitize(n))){let t=document.createElement("li"),l=document.createElement("div");l.classList.add("row"),t.appendChild(l);let i=document.createElement("span");i.classList.add("col-11","p-3"),i.innerHTML=sanitize(n),l.appendChild(i),addTrashButton(l),document.getElementById(e).appendChild(t)}document.getElementById(t).value=""}function addTrashButton(e){let t=document.createElement("div");t.classList.add("btn","btn-light","col-1","p-1","text-center","my-auto"),t.setAttribute("onclick","removeOption(this)");let n=document.createElement("img");n.classList.add("form-img"),n.setAttribute("src","./img/trash-icon.svg"),t.appendChild(n),e.appendChild(t)}function cleanItems(e){let t=e.children.length,n=e.firstChild;if(t>0)for(let e=0;e<t;e++)if(n){let e=n.firstChild.firstChild.innerText;removeAllChilds(n),n.innerText=sanitize(e),n=n.nextSibling}}function removeOption(e){e.parentNode.parentNode.remove()}document.getElementById("add-recipe-form").addEventListener("submit",function(e){e.preventDefault();let t=document.getElementById("ingredients-list"),n=document.getElementById("steps-list"),l=document.getElementById("title").value.trim(),i=t.children,d=n.children,m=document.getElementById("comments").value.trim();validate_blank(l,i,d)&&(l=sanitize(l),m=sanitize(m),document.getElementById("title").value=l,document.getElementById("comments").value=m,cleanItems(t),i=t.innerHTML,document.getElementById("ingredients").value=i,cleanItems(n),d=n.innerHTML,document.getElementById("steps").value=d,this.submit())});